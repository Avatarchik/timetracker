<div class="container">  
  <div class="edit-account__header">
    <div class="edit-account__title" *ngIf="editingAccount?.name.length > 0">Edit {{ editingAccount.name || 'unnamed account' }}</div>
  </div>
  <div class="edit-account__content">
    <span class="edit-account__close trec-icon-close" (click)="backToWorkspace()"></span>
    <div class="edit-account__info">
        <span class="edit-account__title">{{version.name}} RELEASE INFORMATION - <span class="new" *ngIf="isNew">NEW!</span></span>
        <div>
          PUBLISHED: {{version.published_at | date:"dd-MM-yyyy"}}
          <p [innerHTML]="version.body | nl2br"></p>
          <a class="new" *ngIf="isNew" (click)="openInBrowser(version.html_url)">Download new version</a>
        </div>
    </div>
    <div class="edit-account__form" *ngIf="editingAccount?.name.length > 0">
        <div class="edit-account__title">EDIT ACCOUNT</div>          
        <label>Account name</label>
        <input [(ngModel)]="editingAccount.name" name="name" type="text">
        <label>Youtrack URL</label>
        <input [(ngModel)]="editingAccount.url" name="url" type="text">
      </div> 
      <div class="edit-account__change-token">
        <div class="edit-account__title">CHANGE TOKEN</div>          
        <button class="btn btn--transparent" type="submit" (click)="goToChangeToken()">CHANGE ACCOUNT TOKEN</button>        
      </div>
      <div class="edit-account__time-works">
        <div class="edit-account__title">Work hours</div>
        <label class="edit-account__title">Start Work</label>
        <select [(ngModel)]="workHoursInfo.timeStartHour">
          <option *ngFor="let item of hourDay" [selected]="workHoursInfo.timeStartHour === item">{{item}}</option>
        </select>
        <select [(ngModel)]="workHoursInfo.timeStartMinute">
          <option *ngFor="let item of minuteHour" [selected]="workHoursInfo.timeStartMinute === item">{{item}}</option>
        </select>
        <label class="edit-account__title">End Work</label>
        <select [(ngModel)]="workHoursInfo.timeEndHour">
          <option *ngFor="let item of hourDay" [selected]="workHoursInfo.timeEndHour === item">{{item}}</option>
        </select>
        <select [(ngModel)]="workHoursInfo.timeEndMinute">
          <option *ngFor="let item of minuteHour" [selected]="workHoursInfo.timeEndMinute === item">{{item}}</option>
        </select>
        <label class="edit-account__title">Work days</label>
        <label class="time-days" for="monday">
          <input [(ngModel)]="week.monday" id="monday" name="monday" type="checkbox">Monday</label>
        <label class="time-days" for="tuesday">
          <input [(ngModel)]="week.tuesday" id="tuesday" name="tuesday" type="checkbox">Tuesday</label>
        <label class="time-days" for="wednesday">
          <input [(ngModel)]="week.wednesday" id="wednesday" name="wednesday" type="checkbox">Wednesday</label>
        <label class="time-days" for="thursday">
          <input [(ngModel)]="week.thursday" id="thursday" name="thursday" type="checkbox">Thursday</label>
        <label class="time-days" for="friday">
          <input [(ngModel)]="week.friday" id="friday" name="friday" type="checkbox">Friday</label>
        <label class="time-days" for="saturday">
          <input [(ngModel)]="week.saturday" id="saturday" name="saturday" type="checkbox">Saturday</label>
        <label class="time-days" for="sunday">
          <input [(ngModel)]="week.sunday" id="sunday" name="sunday" type="checkbox">Sunday</label>
      </div>
      <span class="edit-account__title">SELECT BOARDS</span>
      <div class="edit-account__boards" *ngIf="!httpService.loader else spinner">
        <div class="edit-account__boards-list" *ngIf="agiles?.length != 0 else noBoards">
          <div class="edit-account__item" *ngFor="let agile of agiles">
            <input type="checkbox" [(ngModel)]="agile.checked" name="checked">
            <label>{{ agile.name }}</label>
            <span class="trec-icon-settings" (click)="editBoard(agile)"></span>
          </div>
        </div>
        <ng-template #noBoards>
          <div class="edit-account__no-boards">No boards found. It looks like you need to create agile board or your sprint is not scheduled correctly.</div>  
        </ng-template>
        <div class="edit-account__save-changes">
        <button class="btn btn--red" type=”submit” (click)="saveChanges(editingAccount)">SAVE CHANGES</button>        
      </div>
      </div>
      <ng-template #spinner>
        <div class="edit-account__boards loading-container">
          <app-loading-spinner></app-loading-spinner>
        </div>
      </ng-template>
      <div class="edit-account__actions">
          <button class="edit-account__remove btn btn--transparent" type=”submit” (click)="showModal('Do you really want to DELETE THIS ACCOUNT?')">
            <span class="trec-icon-remove"></span>
            REMOVE ACCOUNT
          </button>
      </div>
  </div>
</div>
<div id="modal">
  <div class="modal__backdrop" (click)="hideModal()"></div>
  <div class="modal__content">
    <div class="modal__text">
      <span>{{ modalText }}</span>
    </div>
    <div class="modal__interaction">
      <button class="btn btn--transparent" (click)="hideModal()">No</button>
    <button class="btn btn--transparent" (click)="removeAccount(editingAccount.id)">
        <span class="trec-icon-remove"></span>Yes
    </button>
    </div>
  </div>
</div>